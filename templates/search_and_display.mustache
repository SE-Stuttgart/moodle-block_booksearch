{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
    
    Template to display search input bar and it's search results.
    @package    block_booksearch
    @copyright  2024 University of Stuttgart <kasra.habib@iste.uni-stuttgart.de>
    @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
}}
{{!
    @template block_booksearch/search_and_display

    Complex Lecture Search

    Example context (json):
    {
        "search_term_placeholder": "Search",
        "search_term_label": "Search Term:",
        "chapter_label": "chapter",
        "course_content": "[{\"content\":\"test\",\"filename\":\"test.pdf\",\"page\":1}]"
    }
}}
<div class="simplesearchform">

    <input type="hidden" id="bs-search-term-label" value="{{search_term_label}}"/>
    <input type="hidden" id="bs-json-course-content" value="{{course_content}}"/>

    <label for="bs-search-input">
        <span class="sr-only">{{{ search_term_placeholder }}}</span>
    </label>
    <input type="text"
        id="bs-search-input"
        class="form-control"
        placeholder="{{ search_term_placeholder }}"
        aria-label="{{ search_term_placeholder }}"
        data-region="input"
        autocomplete="off"
        oninput="block_booksearchUpdateSearch()"
    >

    <div>
        <hr>
        <h3 id="bs-search-term"> {{search_term_label}} </h3>
        <hr>
        <div id="bs-content" class="bs-content-box">
        </div>
    </div>

    {{#js}}
    require(['block_booksearch/search_and_display'], (module) => module.init("{{ chapter_label }}"));
    {{/js}}
</div>
